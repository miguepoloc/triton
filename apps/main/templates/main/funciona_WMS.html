<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <title>Map with WMS</title>

    <link rel="stylesheet" href="https://js.arcgis.com/3.30/dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.30/esri/css/esri.css">
    <style>
        html,
        body,
        #map {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
    <script src="https://js.arcgis.com/3.30/"></script>

    <script>
        var map;
        require([
            'esri/map', 'esri/layers/WMSLayer', 'esri/layers/WMSLayerInfo', 'esri/geometry/Extent',
            'dojo/_base/array', 'dojo/dom', 'dojo/dom-construct', 'dojo/parser',
            'dijit/layout/BorderContainer', 'dijit/layout/ContentPane', 'dojo/domReady!'
        ], function (Map, WMSLayer, WMSLayerInfo, Extent, array, dom, domConst, parser) {
            parser.parse();

            map = new Map('map', {
                basemap: 'streets',
                center: [-96, 37],
                zoom: 4
            });

            var layer1 = new WMSLayerInfo({
                name: "sla",
                // styles: "boxfill/redblue", 
            });
            console.log(layer1);

            var resourceInfo = {
                extent: new Extent(-124.71430969199997, -33.741115570999966, 179.77593994100005,
                    53.01194000300006, {
                        wkid: 4269
                    }),
                customLayerParameters: {
                    COLORSCALERANGE: "-0.5,0.5",
                    NUMCOLORBANDS: '50',
                    STYLES: "boxfill/redblue",
                    TRANSPARENT: true,
                    format: "image/png",
                    height: 256,
                    width: 256,
                    layers: "sla",
                    palete: "redblue",
                    request: "GetMap",
                    service: "WMS",
                    srs: "EPSG:3857",
                    version: "1.1.1",
                },
                layerInfos: [layer1]
            };
            console.log(resourceInfo);
            var wmsLayer = new WMSLayer(
                'http://192.168.3.173:8080/thredds/wms/SLA-H/nrt_global_allsat_phy_l4_20191029.nc', {
                    resourceInfo: resourceInfo,
                    visibleLayers: ['sla']
                });
            map.addLayers([wmsLayer]);

            var details = dom.byId('details');
            domConst.place('<b>Layers</b>:', details);
            var ul = domConst.create('ul', null, details);
            array.forEach(wmsLayer.layerInfos, function (layerInfo) {
                domConst.create('li', {
                    innerHTML: layerInfo.title
                }, ul);
            });
            domConst.place('<b>WMS Version</b>:' + wmsLayer.version + '<br />', details);
        });
    </script>
</head>

<body class="claro">
    <div id="content" data-dojo-type="dijit.layout.BorderContainer" data-dojo-props="design:'headline', gutters:true"
        style="width: 100%; height: 100%; margin: 0;">

        <div id="details" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="region:'left', splitter:true"
            style="overflow:auto; width:200px;">
        </div>

        <div id="map" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="region:'center'"
            style="overflow:hidden;">
        </div>

    </div>
</body>

</html>